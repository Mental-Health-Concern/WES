<?xml version="1.0" encoding="UTF-8"?>
<Workflow xmlns="http://soap.sforce.com/2006/04/metadata">
    <fieldUpdates>
        <fullName>Calculate_Scores</fullName>
        <field>Total_Score__c</field>
        <formula>IF(Questionnaire_Declined__c = TRUE, 0,
IF(RecordType.Name = &apos;PHQ9&apos;,
(Case(PHQ9_Little_Interest_or_pleasure_in__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
)
+
(Case(PHQ9_Feeling_down_depressed_or_hopeless__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
)
+
(Case(PHQ9_Trouble_falling_or_staying_asleep__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
)
+
(Case(PHQ9_Feeling_tired_or_having_little__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
)
+
(Case(PHQ9_Poor_appetite_or_overeating__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
)
+
(Case(PHQ9_Feeling_bad_about_yourself__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
)
+
(Case(PHQ9_Trouble_concentrating_on_things__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
)
+
(Case(PHQ9_Moving_or_speaking_so_slowly_that__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
)
+
(Case(PHQ9_Thoughts_that_you_would_be_better__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
&apos;4&apos;, 4,
&apos;5&apos;, 5,
0)
),
If(RecordType.Name = &apos;GAD7&apos;,
(Case(GAD7_Feeling_nervous_anxious_or_on_edge__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
0)
)
+
(Case(GAD7_Not_being_able_to_stop_or_control__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
0)
)
+
(Case(GAD7_Worrying_too_much_about_different__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
0)
)
+
(Case(GAD7_Trouble_relaxing__c,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
0)
)
+
(Case(GAD7_Being_so_restless_that_it_is_hard__c ,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
0)
)
+
(Case(GAD7_Becoming_easily_annoyed__c ,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
0)
)
+
(Case(GAD7_Feeling_afraid_as_if_something__c ,
&apos;0&apos;, 0,
&apos;1&apos;, 1,
&apos;2&apos;, 2,
&apos;3&apos;, 3,
0
)
),
(CASE(CX_I_have_felt_tense_anxious__c ,
&apos;Not at all&apos;, 0,
&apos;Only occasionally&apos;, 1,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 3,
&apos;Most or all of the time&apos;, 4,
0 )
+
CASE(CX_I_have_felt_I_have_someone__c ,
&apos;Not at all&apos;, 4,
&apos;Only occasionally&apos;, 3,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 1,
&apos;Most or all of the time&apos;, 0,
4 )
+
CASE(CX_I_have_felt_able_to_cope_when__c ,
&apos;Not at all&apos;, 4,
&apos;Only occasionally&apos;, 3,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 1,
&apos;Most or all of the time&apos;, 0,
4 )
+
CASE(CX_I_have_made_plans_to_end_my_life__c ,
&apos;Not at all&apos;, 0,
&apos;Only occasionally&apos;, 1,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 3,
&apos;Most or all of the time&apos;, 4,
0 )
+
CASE(CX_I_have_felt_panic_or_terror__c ,
&apos;Not at all&apos;, 0,
&apos;Only occasionally&apos;, 1,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 3,
&apos;Most or all of the time&apos;, 4,
0 )
+
CASE(CX_I_have_made_plans_to_end_my_life__c ,
&apos;Not at all&apos;, 0,
&apos;Only occasionally&apos;, 1,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 3,
&apos;Most or all of the time&apos;, 4,
0 )
+
CASE(CX_I_have_had_difficulty_getting_to__c,
&apos;Not at all&apos;, 0,
&apos;Only occasionally&apos;, 1,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 3,
&apos;Most or all of the time&apos;, 4,
0 )
+
CASE(CX_I_have_felt_despairing_or_hopeless__c,
&apos;Not at all&apos;, 0,
&apos;Only occasionally&apos;, 1,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 3,
&apos;Most or all of the time&apos;, 4,
0 )
+
CASE(CX_I_have_felt_unhappy__c ,
&apos;Not at all&apos;, 0,
&apos;Only occasionally&apos;, 1,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 3,
&apos;Most or all of the time&apos;, 4,
0 )
+
CASE(CX_Unwanted_images_or_memories_have_bee__c,
&apos;Not at all&apos;, 0,
&apos;Only occasionally&apos;, 1,
&apos;Sometimes&apos;, 2,
&apos;Often&apos;, 3,
&apos;Most or all of the time&apos;, 4,
0 )) / Num_Questions_Completed__c * 10 ) ) )</formula>
        <name>Calculate Scores</name>
        <notifyAssignee>false</notifyAssignee>
        <operation>Formula</operation>
        <protected>false</protected>
        <reevaluateOnChange>false</reevaluateOnChange>
    </fieldUpdates>
    <rules>
        <fullName>Calculate Score</fullName>
        <actions>
            <name>Calculate_Scores</name>
            <type>FieldUpdate</type>
        </actions>
        <active>true</active>
        <formula>OR(ISNEW(), NOT(ISNEW()))</formula>
        <triggerType>onAllChanges</triggerType>
    </rules>
</Workflow>
